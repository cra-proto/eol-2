<!DOCTYPE html>
<!--[if lt IE 9]>
<html class="no-js lt-ie9" lang="en" dir="ltr">
   <![endif]-->
   <!--[if gt IE 8]><!-->
   <html class="no-js" lang="en" dir="ltr">
      <!--<![endif]-->
      <head>
         <meta charset="utf-8">
         <!-- Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW) wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html -->
         <title>Find out your deadlines to file – Prepare returns for someone who died – Canada.ca</title>
         <meta content="width=device-width,initial-scale=1" name="viewport">
         <meta name=”robots” content=”noindex, follow”>
         <!-- Meta data -->
         <!-- Meta data-->
         <!-- Load closure template scripts -->
         <script type="text/javascript" src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_0_43/cdts/compiled/soyutils.js"></script>
         <script type="text/javascript" src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_0_43/cdts/compiled/wet-en.js"></script>
         <link href="https://test.canada.ca/covid-19-guidance/proto/css/alpha-beta-banner.css" rel="stylesheet">
         <link href="https://test.canada.ca/covid-19-guidance/proto/css/cews.css" rel="stylesheet">
         <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"/>
         <!-- Write closure template -->
         <script type="text/javascript">
            document.write(wet.builder.refTop({
            }));
         </script>
	 <link rel="stylesheet" href="https://test.canada.ca/covid-19-guidance/proto/business-subsidy/rent-subsidy/and-or.css"/>
      </head>
      <body vocab="http://schema.org/" typeof="WebPage">
         <div id="def-top">
         </div>
         <!-- Write closure template -->
         <script type="text/javascript">
            var defTop = document.getElementById("def-top");
            defTop.outerHTML = wet.builder.top({
            	lngLinks: [{
            		lang: "fr",
            		href: "#",
            		text: "Français"
            	}],
            	breadcrumbs: [{
                  title: "Canada.ca",
                  href: "https://www.canada.ca/en.html"
               }, {
                  title: "Taxes",
                  href: "../../../../taxes.html"
               }, {
                  title: "Income tax",
                  href: "../../../index.html"
               }, {
                  title: "Doing taxes for someone who died",
                  href: "../index.html"
               }, {
                  title: "Prepare tax returns for someone who died",
                  href: "../prepare-returns-someone-died.html"
               }, {
                  title: "Filing deadlines",
                  href: "types-deadlines.html"
               }],
            	search: true,
            	siteMenu: true,
            	showPreContent: true
            });
         </script>
          <main role="main" property="mainContentOfPage" class="container">
              <section class="gc-nav">
                <h1 property="name" id="wb-cont-nav">Prepare tax returns for someone who died</h1>
                <ul id="gc-navseq-nav" class="hidden-xs hidden-sm">
                    <li> <a class="gc-navseq-nav-btn" href="#gc-navseq-header">Go to navigation menu</a> </li>
                    <li> <a class="gc-navseq-nav-btn" href="#wb-cont">Skip to main content</a> </li>
                </ul>
                <nav aria-label="Section menu">
                  <h2 id="gc-navseq-header" class="mrgn-tp-0 hidden-xs hidden-sm">Sections</h2>
                    <ul class="gc-navseq">
                      <li><a href="report-assets.html">What returns you need to file</a></li>
                      <li><a href="types-deadlines.html">Filing deadlines</a>
                        <ul class="gc-navseq noline">
                          <li class="active"><a aria-current="page">Find out your deadlines to file</a></li>
                        </ul>
                      </li>
                      <li><a href="income-types.html">Report income, transfers, and dispositions</a></li>
                      <li><a href="credits-deductions.html">Claim credits and deductions</a></li>
                      <li><a href="file-returns.html">File the returns</a></li>
                      <li><a href="after-you-file.html">After you file</a></li>
                    </li>
                  </ul>
                  <div class="hidden-sm hidden-xs" data-ajax-replace="index.html #related-menu>"> </div>
               </nav>
            </section>
            <section class="gc-nav-section experimental">
                <h1 property="name" id="wb-cont">Find out your deadlines to file</h1>
                <p>Select the type of return for the deceased and provide some information to get the deadline for that return.</p>
                
               
                    <form id="myform" action="">
                      <label for="return-type" class="gc-font-2019">Select the return you are planning to file</label>
                      <select class="form-control input-lg" id="return-type">
                        <option>Select the type of return</option>
                        <optgroup label="Common returns">
                        <option value="70(1)">Final T1 return – 70(1)</option>
                        <option value="T3reg">Estate trust return – T3</option>
                        </optgroup>
                        <optgroup label="Optional T1 returns">
                        <option value="70(2)">Return for rights or things – 70(2) </option>
                        <option value="104(23)(d)">Income from a graduated rate estate – 104(23)(d)</option>
                        <option value="150(4)">Return for a partner or proprietor – 150(4) </option>
                        </optgroup>
                      </select>
                      <div class="form-group mrgn-tp-md date-inputs hidden" id="dod-input-field">
                        <label for="dod-input" class="gc-font-2019">Date of death<span class="datepicker-format"> (<abbr title="Four digits year, dash, two digits month, dash, two digits day">YYYY-MM-DD</abbr>)</span></label>
                        <input type="date" id="dod-input" class="form-control date-input-val input-lg" min="2015-01-01" />
                      </div>
                      <div class="checkbox provisional gc-chckbxrdio hidden" id="own-business">
                        <input id="run-business" type="checkbox" />
                        <label for="run-business">Deceased or deceased's spouse or common-law partner ran a business/label>
                      </div>
                      <div id="noa-question" class="hidden">
                        <fieldset class="gc-chckbxrdio">
                          <legend class="mrgn-bttm-0"><span class="gc-font-2019">Have you recieved the notice of assessment, or reassessment for the final return?</span></legend>
                          <ul class="list-unstyled lst-spcd-2">
                            <li class="radio">
                              <input type="radio" name="noa" id="noa-yes" value="Yes">
                              <label for="noa-yes">Yes</label>
                            </li>
                            <li class="radio">
                              <input type="radio" name="noa" id="noa-no" value="No">
                              <label for="noa-no">No</label>
                            </li>
                          </ul>
                        </fieldset>
                      </div>
                      <div class="form-group mrgn-tp-md date-inputs hidden" id="noa-input-field">
                        <label for="noa-input" class="gc-font-2019">Date of the notice of assessment, or reassessment for the final return<span class="datepicker-format"> (<abbr title="Four digits year, dash, two digits month, dash, two digits day">YYYY-MM-DD</abbr>)</span></label>
                        <input type="date" id="noa-input" class="form-control date-input-val input-lg"  min="2015-01-01"/>
                      </div>
                     
                      <div id="tye-question" class="mrgn-tp-md hidden">
                        <fieldset class="gc-chckbxrdio">
                          <legend class="mrgn-bttm-0"><span class="gc-font-2019">Do you know the date of the tax year-end or trust wind-up?</span></legend>
                          <ul class="list-unstyled lst-spcd-2">
                            <li class="radio">
                              <input type="radio" name="tye" id="tye-yes" value="Yes">
                              <label for="tye-yes">Yes</label>
                            </li>
                            <li class="radio">
                              <input type="radio" name="tye" id="tye-no" value="No">
                              <label for="tye-no">No</label>
                            </li>
                          </ul>
                        </fieldset>
                      </div>
                     
                      <div class="form-group mrgn-tp-md date-inputs hidden" id="t3reg-input-field">
                        <label for="t3reg-input" class="gc-font-2019" id="ye-label">Date of the fiscal or tax year-end, or trust wind-up <span class="datepicker-format"> (<abbr title="Four digits year, dash, two digits month, dash, two digits day">YYYY-MM-DD</abbr>)</span></label>
                   
                        
                        <input type="date" id="t3reg-input" class="form-control date-input-val input-lg" min="2015-01-01"/>
                        
                      </div>
			     <div class="checkbox provisional gc-chckbxrdio hidden" id="deemed-check">
                        <input id="deemed-ye" type="checkbox" />
                        <label for="deemed-ye">Trust was subject to a deemed year-end</label>
                      </div> 
			    
                      <button class="btn btn-primary btn-lg mrgn-tp-lg hidden"  data-wb-doaction='{"action": "removeClass", "source": "#results", "class": "hidden"}' type="submit" id="return-btn">Get the deadline for this return</button>
                    </form>
                    <div class="mrgn-tp-lg mrgn-bttm-lg" aria-live="polite">
			 <div id="tye-no-answer" class="panel panel-default panel-body hidden">
				 <h2 class="h3 mrgn-tp-0">You must consider the fiscal year-end, tax year-end or wind-up date first</h2>
				 <h3 class="h4">Fiscal year-end date</h3>	 
			<p>The fiscal year-end date applies to a graduated rate estate trust, and has a chosen date that is no more than one year after the date of death.</p>	
			<h3 class="h4">Tax year-end date</h3>	 
				 <p>The tax year-end date applied to a testamentary trust and usually has a tax year-end date of December 31st.</p>
				<h3 class="h4">Wind-up date</h3>	 
				 <p>The wind-up date is either the date of the:</p>
				 <ul><li>final distribution of the assets for a graduated rate estate, or</li>
					 <li>testamentary trust's year-end date</li>
				 </ul>
                       <p>For more information on this type of return, review <a href="report-assets.html#h-4">T3 Trust and Income Information return</a>. 
                       
                     <!--  <p><a href="#" target="_blank">Rules and exceptions for tax year end <span class="nowrap">date<span class="wb-inv"> open in new window</span><span class="far fa-window-restore mrgn-lft-sm"></span></span></a></p>//-->
                       </div>   
                      <div id="results" class="panel panel-default panel-body hidden">
                        <h2 class="h3 mrgn-tp-0">Due date for the return</h2>
                        <p>The date you must submit the <strong id="return-type-output">no return selected</strong> without penalty is: <strong id="date-output"></strong></p>
                        <p><strong>Note:</strong> If this date falls on a holiday, the due date is the next  business day.</p>
                        <details>
                          <summary>Public holidays for the current year</summary>
                          <div data-ajax-replace="https://www.canada.ca/en/revenue-agency/services/tax/public-holidays.html .mwsbodytext>ul"></div>
                        </details>
                      </div>
                    </div>
                                
</section>

            <div id="def-preFooter"></div>
            <!-- Write closure template -->
            <script type="text/javascript">
               var defPreFooter = document.getElementById("def-preFooter");
               defPreFooter.outerHTML = wet.builder.preFooter({
               dateModified: "2020-07-30",
               showPostContent: true,
               showFeedback: true,
               showShare: true
               });
            </script>
         </main>
         <div id="def-footer">
         </div>
         <!-- Write closure template -->
         <script type="text/javascript">
            var defFooter = document.getElementById("def-footer");
            defFooter.outerHTML = wet.builder.footer({
            showFooter: true,
            showFeatures: true
            });
         </script>
         <!-- Write closure template -->
         <script type="text/javascript">
            document.write(wet.builder.refFooter({
            }));
         </script>
       <!--<script src="https://test.canada.ca/covid-19-guidance/proto/js/alpha-banner.js"></script>//-->
	   <script src="../../../../../js/feedback-banner.js"></script>
         <script>
   $(document).ready(function () {
   "use strict";
  //Script to pull query from URL and pre-select dropdown //
      var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = window.location.search.substring(1),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
        }
    }
    return false;
};
      var tech = getUrlParameter('return');  
function displayresult() {
if (tech != 0){
  document.getElementById("return-type").value= tech;
   
}
}

window.addEventListener("load", function(event) {
    displayresult();
 let changeEvent = new Event('change');
   document.querySelector("#return-type").dispatchEvent(changeEvent);
}  );  
 function expandDates() {
    $("#own-business, #deemed-check, .date-inputs, #noa-question, #tye-question, #tye-no-answer, #results, #return-btn").addClass("hidden");
     $('#run-business').prop('checked', false);
     $('.date-inputs input').val('');
   $('input:radio[name="noa"], input:radio[name="tye"]').prop('checked', false);
     var selectText = $(this).find("option:selected").text();
     var returnText = $("#return-type-output").text(selectText);
     if ($(this).val() == "70(1)" || $(this).val() == "104(23)(d)" || $(this).val() == "150(4)") {
       $("#dod-input-field, #return-btn, #own-business").removeClass("hidden");
       returnText;
     }
     if ($(this).val() == "70(2)") {
       $("#dod-input-field, #noa-question").removeClass("hidden");
       returnText;
     }
   if ($(this).val() == "T3reg") {
       $("#tye-question").removeClass("hidden");
       returnText;
     }
   
    // if ($(this).val() == "T3reg") {$("#t3reg-input-field, #return-btn").removeClass("hidden");returnText;}
 }
     
     
   //Script for return select //
 
   $("#return-type").on("change", expandDates);
   //Script for Notice of assessment question //
   $('input:radio[name="noa"]').change(function () {
     $("#noa-input-field input").val("");
     if ($(this).val() == "Yes") {
       $("#noa-input-field, #return-btn").removeClass("hidden");
     }
     if ($(this).val() == "No") {
       $("#noa-input-field").addClass("hidden");
       $("#return-btn").removeClass("hidden");
     }
   });
      //Script for tax year-end question //
   $('input:radio[name="tye"]').change(function () {
     $("#t3reg-input-field input").val("");
     if ($(this).val() == "Yes") {
       $("#t3reg-input-field, #deemed-check, #return-btn").removeClass("hidden");
       $("#tye-no-answer").addClass("hidden");
     }
     if ($(this).val() == "No") {
       $("#t3reg-input-field, #return-btn, #deemed-check, #results").addClass("hidden");
       $("#tye-no-answer").removeClass("hidden");
     }
   });
     
   //Script to not allow the NOA date to be before the DOD
   $("#dod-input").focusout(function () {
     var dodDate = $(this).val();
     $("#noa-input").attr("min", dodDate);
   });
 });

 //Script for due date calculation //
 $("#return-btn").click(function () {
    "use strict";
   var e = document.getElementById("return-type");
   var getDte = document.getElementsByClassName("date-input-val");
   var d = new Date(getDte[0].value);
   var d2 = new Date(getDte[1].value);
   var d3 = new Date(getDte[2].value);
   var f = document.getElementById("run-business");
var g = document.getElementById("deemed-ye");	 
   var year = d.getFullYear();
var t3Year = d3.getFullYear();
   var month = d.getMonth();

var day = d.getUTCDate();
   var yearz = [1];
   var monthz = [6];
   var dayz = [90];
   //April is 3 as January starts as 0 //
   var c1 = new Date(year + yearz[0], 3, 30);
   //June is 5 as January starts as 0 //
   var c1a = new Date(year + yearz[0], 5, 15);
   var c1b = new Date(year + yearz[0], month, day);
   var c2 = new Date(year, month + monthz[0], day);
   var c3 = new Date(year, month, day + dayz[0]);
   var c4 = d2.setDate(d2.getDate() + dayz[0]);
   var c5 = d3.setDate(d3.getDate() + dayz[0]);
var c6 = new Date(t3Year, 11, 31 + dayz[0]);
   //calculate based on value in select//

   if (e.value == "70(1)" || e.value == "104(23)(d)" || e.value == "150(4)") {

     if (c1 > c2) {
       var newDt = new Date(c1)
     } else {
       var newDt = new Date(c2)
     };

   };
   if ((e.value == "70(1)" || e.value == "104(23)(d)" || e.value == "150(4)") && f.checked == true) {
     if (c1a > c2) {
       var newDt = new Date(c1a)
     } else {
       var newDt = new Date(c2)
     };
   };


   if (e.value == "70(2)") {

     if (c4 > c1b) {
       var newDt = new Date(c4)
     } else {
       var newDt = new Date(c1b)
     };

   };

   if (e.value == "T3reg") {
     var newDt = new Date(c5)
   };
 if ((e.value == "T3reg") && g.checked == true) {
     var newDt = new Date(c6)
   };	 

   //move results that are on a weekend and move to the following monday//  
   switch (newDt.getDay()) {
     case 6:
       newDt.setDate(newDt.getDate() + 2);
       break;
     case 0:
       newDt.setDate(newDt.getDate() + 1);
       break;
     default:
       newDt.setDate(newDt.getDate());
   };

   if (document.documentElement.lang == "fr") {
     var langSet = 'fr-CA'
   } else {
     var langSet = 'en-CA'
   };
   var longString = {
     weekday: "long",
     year: "numeric",
     month: "long",
     day: "numeric"
	   /*,timeZone: 'UTC'	   */
   }

   document.getElementById("date-output").innerHTML = newDt.toLocaleString(langSet, longString);
   $("#modal-footer").removeClass("hidden");
 });

</script>
      </body>
   </html>
